(this.webpackJsonpradar=this.webpackJsonpradar||[]).push([[0],{38:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),a=c(31),s=c.n(a),i=c(20),o=c(4),l=(c(38),c(10)),u=c(2);function j(){for(var e=[],t=0;t<300;t+10)t+=10,e.push(t);for(var c=[],r=0;r<180;r+10)r+=10,c.push(r);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"range",children:e.map((function(e){return Object(u.jsx)(u.Fragment,{children:e%50?Object(u.jsx)("div",{style:{width:"".concat(3*e,"px"),height:"".concat(3*e,"px"),borderWidth:"1px"}},e):Object(u.jsx)("div",{style:{width:"".concat(3*e,"px"),height:"".concat(3*e,"px"),borderWidth:"2px"}},e)})}))}),Object(u.jsx)("div",{className:"azimut",children:c.map((function(e){return Object(u.jsx)(u.Fragment,{children:e%30?Object(u.jsx)("div",{style:{transform:"rotate(".concat(e,"deg)"),borderWidth:"1px",borderTop:"1px solid rgb(124, 124, 124, 0.568)"}},e):Object(u.jsx)("div",{style:{transform:"rotate(".concat(e,"deg)"),borderWidth:"1px",borderTop:"2px solid rgb(124, 124, 124, 0.568)"}},e)})}))})]})}var d=c(21),h=c.n(d),b=c(33);function O(){return(O=Object(b.a)(h.a.mark((function e(t,c,r,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(){return+c+r>=180?180:+c+r},function(){return+t-n<=-90?-90:+t-n},function(){return+c-r<=-180?-180:+c-r},function(){return+t+n>=90?90:+t+n},"http://127.0.0.1:7000",e.abrupt("return",fetch("http://127.0.0.1:7000",{redirect:"follow",referrer:"no-referrer",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){return e.aircraft})).catch((function(e){console.log("error locate")})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return e*Math.PI/180}function p(e,t,c){var r=t,n=c,a=e[2],s=e[3];r=x(r),n=x(n),a=x(a),s=x(s);var i=Math.sin(s-n)*Math.cos(a),o=Math.cos(r)*Math.sin(a)-Math.sin(r)*Math.cos(a)*Math.cos(s-n),l=Math.atan2(i,o);return((l=180*l/Math.PI)+360)%360}function m(e){var t=e.lat,c=e.lon,n=e.locBase,a=e.form,s=Object(r.useState)(),i=Object(o.a)(s,2),j=i[0],d=i[1];function h(e){return{transform:"rotate(".concat(e-90,"deg)")}}return Object(u.jsx)(u.Fragment,{children:n.map((function(r){return Object(u.jsxs)(l.b,{className:"radar24__marker",onClick:function(){return function(e){e[2]>t?e[2]>c?d({right:"10px",top:"10px"}):d({left:"10px",top:"10px"}):e[3]>c?d({right:"10px",bottom:"10px"}):d({left:"10px",bottom:"10px"})}(r)},anchor:"bottom",latitude:r[2],longitude:r[3],children:[Object(u.jsx)("svg",{onClick:function(t){return e.onMarkerClick(r,t)},className:"radar24__marker__svg",style:h(r[4]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Object(u.jsx)("path",{d:"M482.3 192C516.5 192 576 221 576 256C576 292 516.5 320 482.3 320H365.7L265.2 495.9C259.5 505.8 248.9 512 237.4 512H181.2C170.6 512 162.9 501.8 165.8 491.6L214.9 320H112L68.8 377.6C65.78 381.6 61.04 384 56 384H14.03C6.284 384 0 377.7 0 369.1C0 368.7 .1818 367.4 .5398 366.1L32 256L.5398 145.9C.1818 144.6 0 143.3 0 142C0 134.3 6.284 128 14.03 128H56C61.04 128 65.78 130.4 68.8 134.4L112 192H214.9L165.8 20.4C162.9 10.17 170.6 0 181.2 0H237.4C248.9 0 259.5 6.153 265.2 16.12L365.7 192H482.3z"})}),Object(u.jsx)("div",{onClick:function(t){return e.onMarkerClick(r,t)},className:"marker__name",children:r[17]||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"}),a===r[0]||e.allFormsOn?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{onClick:function(t){return e.onMarkerClick(r,t)},className:"marker__table",style:j,children:[Object(u.jsxs)("p",{children:["\u0410\u0437\u0438\u043c\u0443\u0442: ",Math.round(r[20])]}),Object(u.jsxs)("p",{children:["\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",Math.round(r[19]/100)/10]}),Object(u.jsxs)("p",{children:["\u0412\u044b\u0441\u043e\u0442\u0430: ",Math.round(r[5]/.33)/10]}),Object(u.jsxs)("p",{children:["\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ",Math.round(1.87*r[6])]}),Object(u.jsxs)("p",{children:["\u041a\u0443\u0440\u0441: ",r[4]]})]},r[0])}):null]},r[0])}))})}function f(e){var t=n.a.createRef(),c=n.a.createRef(),a=n.a.createRef(),s=Object(r.useState)(!1),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(r.useState)(!1),h=Object(o.a)(d,2),b=h[0],O=h[1],x=Object(r.useState)(!1),p=Object(o.a)(x,2),m=p[0],f=p[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"control__panel",children:l?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"input__radar",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0428\u0438\u0440\u043e\u0442\u0430"}),Object(u.jsx)("input",{ref:t,defaultValue:e.lat,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 latitude",type:"text",name:"lat",id:"lat",className:"form"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430"}),Object(u.jsx)("input",{ref:c,defaultValue:e.lon,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 longitude",type:"text",name:"lon",id:"lon",className:"form"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0420\u0430\u0434\u0438\u0443\u0441"}),Object(u.jsx)("input",{ref:a,defaultValue:e.radius,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0440\u0430\u0434\u0438\u0443\u0441 \u043f\u043e\u0438\u0441\u043a\u0430",type:"text",name:"radius",id:"radius",className:"form"})]}),Object(u.jsx)("button",{onClick:function(){if(t.current.value&&c.current.value){var r=+t.current.value,n=+c.current.value,s=+a.current.value;r>=-84&n>=-178?e.coordinates(r,n,s):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b!")}else alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b!")},type:"submit",children:"\u0412\u0432\u043e\u0434"})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0410\u0437\u0438\u043c\u0443\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u0440\u0443\u0433"}),Object(u.jsxs)("label",{className:"switch",children:[Object(u.jsx)("input",{checked:b,onChange:function(t){O(!b),e.radarON(t)},type:"checkbox"}),Object(u.jsx)("span",{className:"slider round"})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0412\u0441\u0435 \u0444\u043e\u0440\u043c\u0443\u043b\u044f\u0440\u044b"}),Object(u.jsxs)("label",{className:"switch",children:[Object(u.jsx)("input",{checked:m,onChange:function(t){f(!m),e.allForms(t)},type:"checkbox"}),Object(u.jsx)("span",{className:"slider round"})]})]})]})]}):null}),Object(u.jsx)("div",{onClick:function(){j(!l)},className:"control_arrow",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(u.jsx)("path",{d:"M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"})})})]})}var v=function(){var e,t=Object(r.useState)([]),c=Object(o.a)(t,2),a=c[0],s=c[1],d=Object(r.useState)(61.28527651284786),h=Object(o.a)(d,2),b=h[0],x=h[1],v=Object(r.useState)(63.17582723137468),M=Object(o.a)(v,2),g=M[0],C=M[1],k=Object(r.useState)(300),y=Object(o.a)(k,2),w=y[0],N=y[1],_=Object(r.useState)(!1),I=Object(o.a)(_,2),S=I[0],H=I[1],F=Object(r.useState)(),A=Object(o.a)(F,2),P=A[0],T=A[1],W=Object(r.useState)(),z=Object(o.a)(W,2),Z=z[0],J=z[1],L=Object(r.useState)(!1),R=Object(o.a)(L,2),X=R[0],q=R[1],B=Object(r.useState)(0),E=Object(o.a)(B,2),D=E[0],V=E[1],Q=function(e,t){if(!X){e[0]===D?V(0):V(e[0]);try{t.stopPropagation()}catch(c){return}}};Object(r.useEffect)((function(){try{document.querySelector(".footer").style.display="none"}catch(e){return}}),[]),Object(r.useEffect)((function(){clearTimeout(P),clearTimeout(Z),T(setTimeout((function t(){e=+w/(111.321377778*Math.cos(+b*(Math.PI/180))),function(e,t,c,r){return O.apply(this,arguments)}(b,g,e,+w/111.134861111).then((function(e){return e.map((function(e){e.push(function(e,t,c){var r=e[2],n=e[3],a=t*Math.PI/180,s=r*Math.PI/180,i=(r-t)*Math.PI/180,o=(n-c)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(a)*Math.cos(s)*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371e3}(e,b,g)),e.push(p(e,b,g))})),e})).then((function(e){return s(e)})).then((function(e){return J(setTimeout(t,1e3))})).catch((function(e){return console.log(e)}))}),1e3))}),[b,g,w]);var Y=n.a.useState({latitude:b,longitude:g,zoom:5.8,mapboxApiAccessToken:"pk.eyJ1Ijoib3ZlcmJyYXRzayIsImEiOiJja3dqODA3ZnMxZHA4Mm9udnlmOXdxMXQwIn0.s79NCW6WTu9I94Wv7MhNDA"}),G=Object(o.a)(Y,2),K=G[0],U=G[1];return Object(u.jsxs)("div",{className:"radar24",children:[Object(u.jsx)(f,{allForms:function(e){q(e.target.checked)},radarON:function(e){H(e.target.checked)},lat:b,lon:g,radius:w,coordinates:function(e,t,c){x(+e),C(+t),N(+c),U({latitude:e,longitude:t,zoom:5.8,mapboxApiAccessToken:"pk.eyJ1Ijoib3ZlcmJyYXRzayIsImEiOiJja3dqODA3ZnMxZHA4Mm9udnlmOXdxMXQwIn0.s79NCW6WTu9I94Wv7MhNDA"})}}),Object(u.jsx)("div",{className:"radar24__position",children:Object(u.jsxs)(l.c,Object(i.a)(Object(i.a)({classname:"radar24__map",id:"666",scrollZoom:!1,doubleClickZoom:!1,dragRotate:!1,boxZoom:!1,dragPan:!1},K),{},{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:U,onClick:function(){return Q(0)},children:[Object(u.jsx)(m,{allFormsOn:X,form:D,onMarkerClick:Q,lat:b,lon:g,locBase:a}),Object(u.jsx)(l.b,{latitude:b,longitude:g,children:S?Object(u.jsx)(j,{}):null}),Object(u.jsx)(l.a,{})]}))})]})};s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.6dbb698c.chunk.js.map