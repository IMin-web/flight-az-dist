(this.webpackJsonpradar=this.webpackJsonpradar||[]).push([[0],{16:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(7),s=n.n(r),o=n(5),i=n(2),u=(n(16),n(0));var l=n(4),d=n.n(l),h=n(8);function j(){return(j=Object(h.a)(d.a.mark((function t(e,n,a,c){var r,s,o,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(){return+n+a>=180?180:+n+a},s=function(){return+e-c<=-90?-90:+e-c},r=function(){return+n-a<=-180?-180:+n-a},i={one:function(){return+e+c>=90?90:+e+c}(),two:r(),three:s(),four:o()},"http://45.141.77.150:8080",t.abrupt("return",fetch("http://45.141.77.150:8080",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return t.aircraft})).catch((function(t){console.log("error locate")})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return t*Math.PI/180}function b(t,e,n){var a=e,c=n,r=t[2],s=t[3];a=p(a),c=p(c),r=p(r),s=p(s);var o=Math.sin(s-c)*Math.cos(r),i=Math.cos(a)*Math.sin(r)-Math.sin(a)*Math.cos(r)*Math.cos(s-c),u=Math.atan2(o,i);return((u=180*u/Math.PI)+360)%360}function f(t){var e=c.a.createRef(),n=c.a.createRef(),r=c.a.createRef(),s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],d=o[1],h=Object(a.useState)(!1),j=Object(i.a)(h,2),p=j[0],b=j[1],f=Object(a.useState)(!1),O=Object(i.a)(f,2),m=O[0],v=O[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"control__panel",children:l?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"input__radar",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0428\u0438\u0440\u043e\u0442\u0430"}),Object(u.jsx)("input",{ref:e,defaultValue:t.lat,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 latitude",type:"text",name:"lat",id:"lat",className:"form"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430"}),Object(u.jsx)("input",{ref:n,defaultValue:t.lon,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 longitude",type:"text",name:"lon",id:"lon",className:"form"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0420\u0430\u0434\u0438\u0443\u0441"}),Object(u.jsx)("input",{ref:r,defaultValue:t.radius,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0440\u0430\u0434\u0438\u0443\u0441 \u043f\u043e\u0438\u0441\u043a\u0430",type:"text",name:"radius",id:"radius",className:"form"})]}),Object(u.jsx)("button",{onClick:function(){if(e.current.value&&n.current.value){var a=+e.current.value,c=+n.current.value,s=+r.current.value;a>=-84&c>=-178?t.coordinates(a,c,s):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b!")}else alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0431\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b!")},type:"submit",children:"\u0412\u0432\u043e\u0434"})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0410\u0437\u0438\u043c\u0443\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u0440\u0443\u0433"}),Object(u.jsxs)("label",{className:"switch",children:[Object(u.jsx)("input",{checked:p,onChange:function(e){b(!p),t.radarON(e)},type:"checkbox"}),Object(u.jsx)("span",{className:"slider round"})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"\u0412\u0441\u0435 \u0444\u043e\u0440\u043c\u0443\u043b\u044f\u0440\u044b"}),Object(u.jsxs)("label",{className:"switch",children:[Object(u.jsx)("input",{checked:m,onChange:function(e){v(!m),t.allForms(e)},type:"checkbox"}),Object(u.jsx)("span",{className:"slider round"})]})]})]})]}):null}),Object(u.jsx)("div",{onClick:function(){d(!l)},className:"control_arrow",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(u.jsx)("path",{d:"M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"})})})]})}n(19);var O=n(3),m=n.n(O);var v=function(){m.a.accessToken="pk.eyJ1Ijoib3ZlcmJyYXRzayIsImEiOiJjbDNlZmVmNHIwYnJvM2JwNmh5dW1iNDI3In0.ne2arVpZtSj4RSykE0hLdw";var t,e=Object(a.useState)([]),n=Object(i.a)(e,2),r=n[0],s=n[1],l=Object(a.useState)(61.28527651284786),d=Object(i.a)(l,2),h=d[0],p=d[1],O=Object(a.useState)(63.17582723137468),v=Object(i.a)(O,2),x=v[0],M=v[1],g=Object(a.useState)(300),y=Object(i.a)(g,2),N=y[0],C=y[1],S=Object(a.useState)(!1),k=Object(i.a)(S,2),w=(k[0],k[1]),_=Object(a.useState)(),E=Object(i.a)(_,2),I=E[0],P=E[1],T=Object(a.useState)(),H=Object(i.a)(T,2),J=H[0],L=H[1],z=Object(a.useState)(!1),R=Object(i.a)(z,2),V=R[0],F=R[1],q=Object(a.useState)(0),Z=Object(i.a)(q,2),B=Z[0],D=Z[1],Y=Object(a.useState)(0),W=Object(i.a)(Y,2),X=W[0],A=W[1],G=Object(a.useRef)(null),K=Object(a.useRef)(null),Q=Object(a.useState)(9),U=Object(i.a)(Q,2),$=U[0];U[1],Object(a.useEffect)((function(){K.current||(K.current=new m.a.Map({container:G.current,style:"mapbox://styles/mapbox/streets-v11",center:[x,h],zoom:$}))})),Object(a.useEffect)((function(){try{document.querySelector(".footer").style.display="none"}catch(t){return}}),[]),Object(a.useEffect)((function(){var t=[];function e(e){var n=new m.a.Popup({offset:25,className:"marker__table"}).setHTML(["<p>\u0410\u0437\u0438\u043c\u0443\u0442: ".concat(Math.round(e[20]),"</p>\n        <p>\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ").concat(Math.round(e[19]/100)/10,"</p>\n        <p>\u0412\u044b\u0441\u043e\u0442\u0430: ").concat(Math.round(e[5]/.33)/10,"</p>\n        <p>\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ").concat(Math.round(1.87*e[6]),"</p>\n        <p>\u041a\u0443\u0440\u0441: ").concat(e[4],"</p>")]),a=document.createElement("div"),c=document.createElement("div");a.className="radar24__marker__cont",c.className="radar24__marker",c.id=e[0],c.style.transform="rotate(".concat(e[4]-90,"deg)");var r=document.createElement("div");a.appendChild(c),a.appendChild(r),r.className="marker__name",r.innerHTML="".concat(e[17]||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f");var s=new m.a.Marker(a).setLngLat([e[3],e[2]]).setPopup(n).addTo(K.current);t.push(s)}B.length===r.length?r.map((function(t){B.map((function(e){e.getElement().firstElementChild.id===t[0]&&(e.setLngLat([t[3],t[2]]),e.getElement().firstElementChild.transform="rotate(".concat(t[4]-90,"deg)"),e.getPopup().setHTML(["<p>\u0410\u0437\u0438\u043c\u0443\u0442: ".concat(Math.round(t[20]),"</p>\n          <p>\u0414\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ").concat(Math.round(t[19]/100)/10,"</p>\n          <p>\u0412\u044b\u0441\u043e\u0442\u0430: ").concat(Math.round(t[5]/.33)/10,"</p>\n          <p>\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: ").concat(Math.round(1.87*t[6]),"</p>\n          <p>\u041a\u0443\u0440\u0441: ").concat(t[4],"</p>")]))}))})):(r.length>B.length?B.length>0?r.map((function(t){var n=B.map((function(e){if(t[0]===e.getElement().id)return!0}));console.log(n),n.includes(!0)||e(t)})):r.map((function(t){e(t)})):r.length<B.length&&r.map((function(t){var e=B.map((function(e){if(t[0]==e.getElement().id)return!0}));console.log(e)})),D(t)),K.current}),[r]),Object(a.useEffect)((function(){clearTimeout(I),clearTimeout(J),P(setTimeout((function e(){t=+N/(111.321377778*Math.cos(+h*(Math.PI/180))),function(t,e,n,a){return j.apply(this,arguments)}(h,x,t,+N/111.134861111).then((function(t){return t.map((function(t){t.push(function(t,e,n){var a=t[2],c=t[3],r=e*Math.PI/180,s=a*Math.PI/180,o=(a-e)*Math.PI/180,i=(c-n)*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(r)*Math.cos(s)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))*6371e3}(t,h,x)),t.push(b(t,h,x))})),t})).then((function(t){return s(t)})).then((function(t){return L(setTimeout(e,1e3))})).catch((function(t){return console.log(t)}))}),1e3))}),[h,x,N]);var tt=c.a.useState({latitude:h,longitude:x,zoom:5.8}),et=Object(i.a)(tt,2),nt=et[0],at=et[1];return Object(u.jsxs)("div",{className:"radar24",children:[Object(u.jsx)(f,{allForms:function(t){F(t.target.checked)},radarON:function(t){w(t.target.checked)},lat:h,lon:x,radius:N,coordinates:function(t,e,n){p(+t),M(+e),n&&C(+n),n&&at({latitude:t,longitude:e,zoom:5.8})}}),Object(u.jsx)("div",{className:"radar24__position",children:Object(u.jsx)("div",Object(o.a)(Object(o.a)({ref:G,className:"radar24__map",id:"666"},nt),{},{width:"100%",height:"100%",onClick:function(){return function(t,e){if(!V){t[0]===X?A(0):A(t[0]);try{e.stopPropagation()}catch(n){return}}}(0)}}))})]})};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.9be8bca4.chunk.js.map